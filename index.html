<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ambition Care - Academic Management System</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/umd/lucide.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        /* Animated Background */
        body::before {
            content: '';
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: backgroundMove 20s linear infinite;
            z-index: 0;
        }

        @keyframes backgroundMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        /* Login Screen */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 90vh;
        }

        .login-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 50px;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 450px;
            animation: fadeInUp 0.6s ease-out;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .logo {
            text-align: center;
            margin-bottom: 40px;
        }

        .logo h1 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 36px;
            margin-bottom: 10px;
            font-weight: 800;
        }

        .logo p {
            color: #666;
            font-size: 16px;
            font-weight: 500;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            color: #333;
            font-weight: 600;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #e8e8e8;
            border-radius: 15px;
            font-size: 16px;
            transition: all 0.3s;
            background: white;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
            font-family: inherit;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
            transform: translateY(-2px);
        }

        .btn-primary {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.5);
        }

        .btn-primary:active {
            transform: translateY(-1px);
        }

        /* Dashboard */
        .dashboard {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .dashboard.active {
            display: block;
        }

        .header {
            background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 30px 40px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            flex-wrap: wrap;
            gap: 20px;
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .header-left h2 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 32px;
            margin-bottom: 5px;
            font-weight: 800;
        }

        .header-left p {
            color: #666;
            font-size: 16px;
            font-weight: 500;
        }

        .header-right {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .btn-secondary {
            padding: 12px 25px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .btn-logout {
            padding: 12px 25px;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(255, 75, 85, 0.3);
        }

        .btn-logout:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(255, 75, 85, 0.4);
        }

        /* Creator Credit */
        .creator-credit {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%);
            backdrop-filter: blur(20px);
            padding: 12px 25px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            font-size: 14px;
            color: #333;
            font-weight: 600;
            z-index: 1000;
            border: 1px solid rgba(255, 255, 255, 0.5);
            animation: slideInRight 0.5s ease-out;
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .creator-credit span {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
        }

        /* Navigation Tabs */
        .nav-tabs {
            background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .tab-btn {
            padding: 14px 28px;
            background: #f8f9fa;
            border: 2px solid transparent;
            border-radius: 15px;
            cursor: pointer;
            font-weight: 600;
            color: #666;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 15px;
        }

        .tab-btn:hover {
            background: #e9ecef;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
            transform: translateY(-2px);
        }

        /* Content Sections */
        .content-section {
            display: none;
            animation: fadeInContent 0.4s ease-out;
        }

        @keyframes fadeInContent {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .content-section.active {
            display: block;
        }

        /* Cards Grid */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid rgba(255, 255, 255, 0.5);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
        }

        .stat-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            font-size: 28px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            transition: all 0.3s;
        }

        .stat-card:hover .stat-icon {
            transform: scale(1.1) rotate(5deg);
        }

        .stat-icon.purple {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .stat-icon.green {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e063 100%);
            color: white;
        }

        .stat-icon.orange {
            background: linear-gradient(135deg, #f2994a 0%, #f2c94c 100%);
            color: white;
        }

        .stat-icon.blue {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .stat-icon.red {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
        }

        .stat-value {
            font-size: 38px;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px;
        }

        .stat-label {
            color: #666;
            font-size: 15px;
            font-weight: 600;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #f0f0f0;
            border-radius: 4px;
            margin-top: 15px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.5);
        }

        /* Data Tables */
        .data-table {
            background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .data-table h3 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 25px;
            font-size: 24px;
            font-weight: 800;
        }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }

        thead {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }

        th {
            padding: 18px 20px;
            text-align: left;
            font-weight: 700;
            color: #495057;
            border-bottom: 3px solid #dee2e6;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        th:first-child {
            border-top-left-radius: 15px;
        }

        th:last-child {
            border-top-right-radius: 15px;
        }

        td {
            padding: 18px 20px;
            border-bottom: 1px solid #f0f0f0;
            color: #495057;
            font-weight: 500;
        }

        tr {
            transition: all 0.3s;
        }

        tbody tr:hover {
            background: linear-gradient(135deg, #f8f9ff 0%, #f0f2ff 100%);
            transform: scale(1.01);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.1);
        }

        tbody tr:last-child td:first-child {
            border-bottom-left-radius: 15px;
        }

        tbody tr:last-child td:last-child {
            border-bottom-right-radius: 15px;
        }

        .status-badge {
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 700;
            display: inline-block;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-present {
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            color: #155724;
            box-shadow: 0 2px 8px rgba(21, 87, 36, 0.2);
        }

        .status-absent {
            background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);
            color: #721c24;
            box-shadow: 0 2px 8px rgba(114, 28, 36, 0.2);
        }

        .status-paid {
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            color: #155724;
            box-shadow: 0 2px 8px rgba(21, 87, 36, 0.2);
        }

        .status-unpaid {
            background: linear-gradient(135deg, #fff3cd 0%, #ffe69c 100%);
            color: #856404;
            box-shadow: 0 2px 8px rgba(133, 100, 4, 0.2);
        }

        .status-pending {
            background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
            color: #0c5460;
            box-shadow: 0 2px 8px rgba(12, 84, 96, 0.2);
        }

        .btn-download {
            padding: 10px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-download:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        /* Upload Section */
        .upload-section {
            background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 35px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .upload-section h3 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 30px;
            font-size: 26px;
            font-weight: 800;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .file-input {
            padding: 50px;
            border: 3px dashed #dee2e6;
            border-radius: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: #f8f9fa;
        }

        .file-input:hover {
            border-color: #667eea;
            background: linear-gradient(135deg, #f8f9ff 0%, #f0f2ff 100%);
            transform: translateY(-2px);
        }

        .btn-upload {
            padding: 16px 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-upload:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(102, 126, 234, 0.5);
        }

        .btn-upload:active {
            transform: translateY(-1px);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            backdrop-filter: blur(10px);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
            animation: fadeIn 0.3s ease-out;
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(255,255,255,0.98) 0%, rgba(255,255,255,0.95) 100%);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 45px;
            max-width: 650px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.4s ease-out;
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-content h2 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 35px;
            font-size: 30px;
            font-weight: 800;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #5568d3 0%, #6a3f8f 100%);
        }

        @media (max-width: 768px) {
            .cards-grid {
                grid-template-columns: 1fr;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }

            .header {
                flex-direction: column;
                align-items: flex-start;
                padding: 25px;
            }

            .header-left h2 {
                font-size: 24px;
            }

            .nav-tabs {
                flex-direction: column;
                padding: 20px;
            }

            .tab-btn {
                width: 100%;
                justify-content: center;
            }

            table {
                font-size: 14px;
            }

            th, td {
                padding: 12px 10px;
            }

            .login-card {
                padding: 35px 25px;
            }

            .upload-section {
                padding: 25px 20px;
            }

            .modal-content {
                padding: 30px 25px;
            }

            .stat-card {
                padding: 25px;
            }

            .creator-credit {
                bottom: 10px;
                right: 10px;
                font-size: 12px;
                padding: 10px 18px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Login Screen -->
        <div id="loginScreen" class="login-container">
            <div class="login-card">
                <div class="logo">
                    <h1>üéì Ambition Care</h1>
                    <p>Academic Management System</p>
                </div>
                <form id="loginForm">
                    <div class="form-group">
                        <label>Login As</label>
                        <select id="userType" required>
                            <option value="student">Student</option>
                            <option value="teacher">Teacher</option>
                            <option value="admin">Admin</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Username</label>
                        <input type="text" id="username" placeholder="Enter username" required>
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" id="password" placeholder="Enter password" required>
                    </div>
                    <button type="submit" class="btn-primary">Login</button>
                </form>
            </div>
        </div>

        <!-- Student Dashboard -->
        <div id="studentDashboard" class="dashboard">
            <div class="header">
                <div class="header-left">
                    <h2>Welcome, <span id="studentName">Student</span></h2>
                    <p>Student Portal - <span id="studentId">ID</span></p>
                </div>
                <div class="header-right">
                    <button class="btn-logout" onclick="logout()">Logout</button>
                </div>
            </div>

            <div class="nav-tabs">
                <button class="tab-btn active" onclick="showTab('overview')">üìä Overview</button>
                <button class="tab-btn" onclick="showTab('results')">üìù Results</button>
                <button class="tab-btn" onclick="showTab('attendance')">‚úì Attendance</button>
                <button class="tab-btn" onclick="showTab('payments')">üí≥ Payments</button>
                <button class="tab-btn" onclick="showTab('exams')">üìÖ Exam Schedule</button>
                <button class="tab-btn" onclick="showTab('routine')">‚è∞ Class Routine</button>
                <button class="tab-btn" onclick="showTab('lectures')">üìö Lecture Sheets</button>
            </div>

            <!-- Overview -->
            <div id="overview" class="content-section active">
                <div class="cards-grid">
                    <div class="stat-card">
                        <div class="stat-icon purple">‚úì</div>
                        <div class="stat-value" id="studentAttendanceRate">0%</div>
                        <div class="stat-label">Attendance Rate</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon green">üìö</div>
                        <div class="stat-value" id="studentGPA">0.0</div>
                        <div class="stat-label">GPA (Current Semester)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon orange">üìÖ</div>
                        <div class="stat-value" id="studentUpcomingExams">0</div>
                        <div class="stat-label">Upcoming Exams</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon blue">üí∞</div>
                        <div class="stat-value" id="studentPendingPayment">‡ß≥0</div>
                        <div class="stat-label">Pending Payment</div>
                    </div>
                </div>
            </div>

            <!-- Results -->
            <div id="results" class="content-section">
                <div class="data-table">
                    <h3>Exam Results</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Exam</th>
                                <th>Subject</th>
                                <th>Marks</th>
                                <th>Grade</th>
                                <th>Date</th>
                            </tr>
                        </thead>
                        <tbody id="studentResultsTable">
                            <tr>
                                <td colspan="5" style="text-align: center; padding: 40px; color: #999;">
                                    No results available yet
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Attendance -->
            <div id="attendance" class="content-section">
                <div class="data-table">
                    <h3>Attendance Record</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Subject</th>
                                <th>Status</th>
                                <th>Time</th>
                            </tr>
                        </thead>
                        <tbody id="studentAttendanceTable">
                            <tr>
                                <td colspan="4" style="text-align: center; padding: 40px; color: #999;">
                                    No attendance records yet
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Payments -->
            <div id="payments" class="content-section">
                <div class="data-table">
                    <h3>Payment History</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Description</th>
                                <th>Amount</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="studentPaymentsTable">
                            <tr>
                                <td colspan="4" style="text-align: center; padding: 40px; color: #999;">
                                    No payment records yet
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Exams -->
            <div id="exams" class="content-section">
                <div class="data-table">
                    <h3>Exam Schedule</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Subject</th>
                                <th>Time</th>
                                <th>Room</th>
                                <th>Duration</th>
                            </tr>
                        </thead>
                        <tbody id="studentExamsTable">
                            <tr>
                                <td colspan="5" style="text-align: center; padding: 40px; color: #999;">
                                    No upcoming exams
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Routine -->
            <div id="routine" class="content-section">
                <div class="data-table">
                    <h3>Class Routine</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Day</th>
                                <th>Time</th>
                                <th>Subject</th>
                                <th>Room</th>
                                <th>Teacher</th>
                            </tr>
                        </thead>
                        <tbody id="studentRoutineTable">
                            <tr>
                                <td colspan="5" style="text-align: center; padding: 40px; color: #999;">
                                    No class routine available
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Lectures -->
            <div id="lectures" class="content-section">
                <div class="data-table">
                    <h3>Lecture Materials</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Subject</th>
                                <th>Topic</th>
                                <th>Uploaded By</th>
                                <th>Date</th>
                                <th>Download</th>
                            </tr>
                        </thead>
                        <tbody id="studentLecturesTable">
                            <tr>
                                <td colspan="5" style="text-align: center; padding: 40px; color: #999;">
                                    No lecture materials available
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Teacher Dashboard -->
        <div id="teacherDashboard" class="dashboard">
            <div class="header">
                <div class="header-left">
                    <h2>Welcome, <span id="teacherName">Teacher</span></h2>
                    <p>Teacher Portal - <span id="teacherId">ID</span></p>
                </div>
                <div class="header-right">
                    <button class="btn-logout" onclick="logout()">Logout</button>
                </div>
            </div>

            <div class="nav-tabs">
                <button class="tab-btn active" onclick="showTeacherTab('teacher-overview')">üìä Overview</button>
                <button class="tab-btn" onclick="showTeacherTab('teacher-attendance')">‚úì Attendance</button>
                <button class="tab-btn" onclick="showTeacherTab('teacher-results')">üìù Results</button>
                <button class="tab-btn" onclick="showTeacherTab('teacher-materials')">üìö Materials</button>
            </div>

            <!-- Teacher Overview -->
            <div id="teacher-overview" class="content-section active">
                <div class="cards-grid">
                    <div class="stat-card">
                        <div class="stat-icon purple">üë•</div>
                        <div class="stat-value">0</div>
                        <div class="stat-label">Total Students</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon green">üìö</div>
                        <div class="stat-value">0</div>
                        <div class="stat-label">Classes This Week</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon orange">üìù</div>
                        <div class="stat-value">0</div>
                        <div class="stat-label">Pending Evaluations</div>
                    </div>
                </div>

                <div class="data-table" style="margin-top: 30px;">
                    <h3>Class Routine</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Day</th>
                                <th>Time</th>
                                <th>Subject</th>
                                <th>Room</th>
                                <th>Class</th>
                            </tr>
                        </thead>
                        <tbody id="teacherRoutineTable">
                            <tr>
                                <td colspan="5" style="text-align: center; padding: 40px; color: #999;">
                                    No class routine available
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Teacher Attendance -->
            <div id="teacher-attendance" class="content-section">
                <div class="data-table">
                    <h3>View Attendance Records</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Student ID</th>
                                <th>Student Name</th>
                                <th>Subject</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="teacherAttendanceTable">
                            <tr>
                                <td colspan="5" style="text-align: center; padding: 40px; color: #999;">
                                    No attendance records available
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Teacher Results -->
            <div id="teacher-results" class="content-section">
                <div class="data-table">
                    <h3>Student Results</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Student ID</th>
                                <th>Student Name</th>
                                <th>Exam</th>
                                <th>Subject</th>
                                <th>Marks</th>
                                <th>Grade</th>
                            </tr>
                        </thead>
                        <tbody id="teacherResultsTable">
                            <tr>
                                <td colspan="6" style="text-align: center; padding: 40px; color: #999;">
                                    No results available
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Teacher Materials -->
            <div id="teacher-materials" class="content-section">
                <div class="data-table">
                    <h3>Uploaded Lecture Materials</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Subject</th>
                                <th>Topic</th>
                                <th>Upload Date</th>
                                <th>Class</th>
                            </tr>
                        </thead>
                        <tbody id="teacherMaterialsTable">
                            <tr>
                                <td colspan="4" style="text-align: center; padding: 40px; color: #999;">
                                    No materials uploaded yet
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Admin Dashboard -->
        <div id="adminDashboard" class="dashboard">
            <div class="header">
                <div class="header-left">
                    <h2>Admin Dashboard</h2>
                    <p>Complete System Control</p>
                </div>
                <div class="header-right">
                    <button class="btn-logout" onclick="logout()">Logout</button>
                </div>
            </div>

            <div class="nav-tabs">
                <button class="tab-btn active" onclick="showAdminTab('admin-users')">üë• User Registration</button>
                <button class="tab-btn" onclick="showAdminTab('admin-results')">üìù Results</button>
                <button class="tab-btn" onclick="showAdminTab('admin-attendance')">‚úì Attendance</button>
                <button class="tab-btn" onclick="showAdminTab('admin-payments')">üí≥ Payments</button>
                <button class="tab-btn" onclick="showAdminTab('admin-exams')">üìÖ Exam Schedule</button>
                <button class="tab-btn" onclick="showAdminTab('admin-routine')">‚è∞ Class Routine</button>
                <button class="tab-btn" onclick="showAdminTab('admin-lectures')">üìö Lectures</button>
            </div>

            <!-- User Registration -->
            <div id="admin-users" class="content-section active">
                <div class="upload-section">
                    <h3>Register New User</h3>
                    <div class="form-group">
                        <label>User Type *</label>
                        <select id="adminRegUserType">
                            <option value="student">Student</option>
                            <option value="teacher">Teacher</option>
                            <option value="admin">Admin</option>
                        </select>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>First Name *</label>
                            <input type="text" id="adminRegFirstName" placeholder="First Name">
                        </div>
                        <div class="form-group">
                            <label>Last Name *</label>
                            <input type="text" id="adminRegLastName" placeholder="Last Name">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Email *</label>
                            <input type="email" id="adminRegEmail" placeholder="Email Address">
                        </div>
                        <div class="form-group">
                            <label>Phone</label>
                            <input type="tel" id="adminRegPhone" placeholder="Phone Number">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>ID Number *</label>
                            <input type="text" id="adminRegID" placeholder="STU-001, TCH-001, etc.">
                        </div>
                        <div class="form-group">
                            <label>Department</label>
                            <input type="text" id="adminRegDepartment" placeholder="Department">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Username (for login) *</label>
                            <input type="text" id="adminRegUsername" placeholder="Username">
                        </div>
                        <div class="form-group">
                            <label>Password *</label>
                            <input type="password" id="adminRegPassword" placeholder="Password">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Address</label>
                        <input type="text" id="adminRegAddress" placeholder="Full address">
                    </div>
                    <button class="btn-upload" onclick="registerUser()">Register User</button>
                </div>

                <div class="data-table" style="margin-top: 30px;">
                    <h3>Registered Users</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Type</th>
                                <th>Email</th>
                                <th>Phone</th>
                                <th>Department</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="registeredUsersTable">
                            <tr>
                                <td colspan="7" style="text-align: center; padding: 40px; color: #999;">
                                    No registered users yet
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Results Management -->
            <div id="admin-results" class="content-section">
                <div class="upload-section">
                    <h3>Add Student Result</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Student ID *</label>
                            <input type="text" id="resultStudentId" placeholder="Student ID">
                        </div>
                        <div class="form-group">
                            <label>Exam Name *</label>
                            <input type="text" id="resultExamName" placeholder="Mid Term, Final, etc.">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Subject *</label>
                            <input type="text" id="resultSubject" placeholder="Subject Name">
                        </div>
                        <div class="form-group">
                            <label>Marks *</label>
                            <input type="number" id="resultMarks" placeholder="Marks Obtained">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Grade *</label>
                            <input type="text" id="resultGrade" placeholder="A+, A, B, etc.">
                        </div>
                        <div class="form-group">
                            <label>Date *</label>
                            <input type="date" id="resultDate">
                        </div>
                    </div>
                    <button class="btn-upload" onclick="addResult()">Add Result</button>
                </div>

                <div class="data-table" style="margin-top: 30px;">
                    <h3>All Results</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Student ID</th>
                                <th>Exam</th>
                                <th>Subject</th>
                                <th>Marks</th>
                                <th>Grade</th>
                                <th>Date</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="adminResultsTable">
                            <tr>
                                <td colspan="7" style="text-align: center; padding: 40px; color: #999;">
                                    No results added yet
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Attendance Management -->
            <div id="admin-attendance" class="content-section">
                <div class="upload-section">
                    <h3>Mark Attendance</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Student ID *</label>
                            <input type="text" id="attendanceStudentId" placeholder="Student ID">
                        </div>
                        <div class="form-group">
                            <label>Subject *</label>
                            <input type="text" id="attendanceSubject" placeholder="Subject">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Date *</label>
                            <input type="date" id="attendanceDate">
                        </div>
                        <div class="form-group">
                            <label>Time *</label>
                            <input type="time" id="attendanceTime">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Status *</label>
                        <select id="attendanceStatus">
                            <option value="Present">Present</option>
                            <option value="Absent">Absent</option>
                        </select>
                    </div>
                    <button class="btn-upload" onclick="addAttendance()">Mark Attendance</button>
                </div>

                <div class="data-table" style="margin-top: 30px;">
                    <h3>Attendance Records</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Student ID</th>
                                <th>Date</th>
                                <th>Subject</th>
                                <th>Time</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="adminAttendanceTable">
                            <tr>
                                <td colspan="6" style="text-align: center; padding: 40px; color: #999;">
                                    No attendance records yet
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Payments Management -->
            <div id="admin-payments" class="content-section">
                <div class="upload-section">
                    <h3>Record Payment</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Student ID *</label>
                            <input type="text" id="paymentStudentId" placeholder="Student ID">
                        </div>
                        <div class="form-group">
                            <label>Date *</label>
                            <input type="date" id="paymentDate">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Description *</label>
                            <input type="text" id="paymentDescription" placeholder="Tuition Fee, Lab Fee, etc.">
                        </div>
                        <div class="form-group">
                            <label>Amount *</label>
                            <input type="number" id="paymentAmount" placeholder="Amount in BDT">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Status *</label>
                        <select id="paymentStatus">
                            <option value="Paid">Paid</option>
                            <option value="Unpaid">Unpaid</option>
                            <option value="Pending">Pending</option>
                        </select>
                    </div>
                    <button class="btn-upload" onclick="addPayment()">Record Payment</button>
                </div>

                <div class="data-table" style="margin-top: 30px;">
                    <h3>Payment Records</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Student ID</th>
                                <th>Date</th>
                                <th>Description</th>
                                <th>Amount</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="adminPaymentsTable">
                            <tr>
                                <td colspan="6" style="text-align: center; padding: 40px; color: #999;">
                                    No payment records yet
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Exam Schedule -->
            <div id="admin-exams" class="content-section">
                <div class="upload-section">
                    <h3>Add Exam Schedule</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Date *</label>
                            <input type="date" id="examDate">
                        </div>
                        <div class="form-group">
                            <label>Subject *</label>
                            <input type="text" id="examSubject" placeholder="Subject Name">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Time *</label>
                            <input type="time" id="examTime">
                        </div>
                        <div class="form-group">
                            <label>Duration *</label>
                            <input type="text" id="examDuration" placeholder="2 hours, 3 hours, etc.">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Room *</label>
                        <input type="text" id="examRoom" placeholder="Room Number">
                    </div>
                    <button class="btn-upload" onclick="addExam()">Add Exam</button>
                </div>

                <div class="data-table" style="margin-top: 30px;">
                    <h3>Exam Schedule</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Subject</th>
                                <th>Time</th>
                                <th>Room</th>
                                <th>Duration</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="adminExamsTable">
                            <tr>
                                <td colspan="6" style="text-align: center; padding: 40px; color: #999;">
                                    No exams scheduled yet
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Class Routine -->
            <div id="admin-routine" class="content-section">
                <div class="upload-section">
                    <h3>Add Class Routine</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Day *</label>
                            <select id="routineDay">
                                <option value="Sunday">Sunday</option>
                                <option value="Monday">Monday</option>
                                <option value="Tuesday">Tuesday</option>
                                <option value="Wednesday">Wednesday</option>
                                <option value="Thursday">Thursday</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Time *</label>
                            <input type="text" id="routineTime" placeholder="9:00 AM - 10:00 AM">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Subject *</label>
                            <input type="text" id="routineSubject" placeholder="Subject Name">
                        </div>
                        <div class="form-group">
                            <label>Room *</label>
                            <input type="text" id="routineRoom" placeholder="Room Number">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Teacher *</label>
                        <input type="text" id="routineTeacher" placeholder="Teacher Name">
                    </div>
                    <button class="btn-upload" onclick="addRoutine()">Add to Routine</button>
                </div>

                <div class="data-table" style="margin-top: 30px;">
                    <h3>Class Routine</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Day</th>
                                <th>Time</th>
                                <th>Subject</th>
                                <th>Room</th>
                                <th>Teacher</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="adminRoutineTable">
                            <tr>
                                <td colspan="6" style="text-align: center; padding: 40px; color: #999;">
                                    No classes scheduled yet
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Lecture Materials -->
            <div id="admin-lectures" class="content-section">
                <div class="upload-section">
                    <h3>Add Lecture Material</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Subject *</label>
                            <input type="text" id="lectureSubject" placeholder="Subject Name">
                        </div>
                        <div class="form-group">
                            <label>Topic *</label>
                            <input type="text" id="lectureTopic" placeholder="Lecture Topic">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Teacher Name *</label>
                            <input type="text" id="lectureTeacher" placeholder="Uploaded By">
                        </div>
                        <div class="form-group">
                            <label>Date *</label>
                            <input type="date" id="lectureDate">
                        </div>
                    </div>
                    <button class="btn-upload" onclick="addLecture()">Add Lecture Material</button>
                </div>

                <div class="data-table" style="margin-top: 30px;">
                    <h3>Lecture Materials</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Subject</th>
                                <th>Topic</th>
                                <th>Uploaded By</th>
                                <th>Date</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="adminLecturesTable">
                            <tr>
                                <td colspan="5" style="text-align: center; padding: 40px; color: #999;">
                                    No lecture materials yet
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit User Modal -->
    <div id="editUserModal" class="modal">
        <div class="modal-content">
            <h2>Edit User</h2>
            
            <div class="form-group">
                <label>User Type</label>
                <select id="editUserType">
                    <option value="student">Student</option>
                    <option value="teacher">Teacher</option>
                    <option value="admin">Admin</option>
                </select>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label>First Name *</label>
                    <input type="text" id="editFirstName" placeholder="First Name">
                </div>
                <div class="form-group">
                    <label>Last Name *</label>
                    <input type="text" id="editLastName" placeholder="Last Name">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label>Email *</label>
                    <input type="email" id="editEmail" placeholder="Email Address">
                </div>
                <div class="form-group">
                    <label>Phone</label>
                    <input type="tel" id="editPhone" placeholder="Phone Number">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label>ID Number *</label>
                    <input type="text" id="editID" placeholder="ID Number" readonly style="background: #f0f0f0;">
                </div>
                <div class="form-group">
                    <label>Department</label>
                    <input type="text" id="editDepartment" placeholder="Department">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label>Username *</label>
                    <input type="text" id="editUsername" placeholder="Username for login">
                </div>
                <div class="form-group">
                    <label>New Password (leave blank to keep current)</label>
                    <input type="password" id="editPassword" placeholder="New password (optional)">
                </div>
            </div>
            
            <div class="form-group">
                <label>Address</label>
                <input type="text" id="editAddress" placeholder="Full address">
            </div>
            
            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button class="btn-primary" onclick="saveUserEdit()" style="flex: 1;">Save Changes</button>
                <button class="btn-secondary" onclick="closeEditModal()" style="flex: 1;">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Creator Credit -->
    <div class="creator-credit">
        Created By <span>Mashraf Bin Mahmud</span>
    </div>

    <script>
        // Initialize localStorage
        function initStorage() {
            const keys = ['users', 'results', 'attendance', 'payments', 'exams', 'routine', 'lectures'];
            keys.forEach(key => {
                if (!localStorage.getItem(key)) {
                    localStorage.setItem(key, JSON.stringify([]));
                }
            });
        }
        initStorage();

        // Current logged in user
        let currentUser = null;

        // Login
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const userType = document.getElementById('userType').value;
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const user = users.find(u => 
                u.username === username && 
                u.password === password && 
                u.userType === userType
            );

            // Default admin
            if (userType === 'admin' && username === 'adsajjadmen' && password === 'adsajjadmen123') {
                document.getElementById('loginScreen').style.display = 'none';
                document.getElementById('adminDashboard').classList.add('active');
                loadAllAdminData();
                return;
            }

            if (user) {
                currentUser = user;
                document.getElementById('loginScreen').style.display = 'none';
                
                if (userType === 'student') {
                    document.getElementById('studentDashboard').classList.add('active');
                    document.getElementById('studentName').textContent = user.firstName + ' ' + user.lastName;
                    document.getElementById('studentId').textContent = user.id;
                    loadStudentData(user.id);
                } else if (userType === 'teacher') {
                    document.getElementById('teacherDashboard').classList.add('active');
                    document.getElementById('teacherName').textContent = user.firstName + ' ' + user.lastName;
                    document.getElementById('teacherId').textContent = user.id;
                    loadTeacherData(user.id);
                } else if (userType === 'admin') {
                    document.getElementById('adminDashboard').classList.add('active');
                    loadAllAdminData();
                }
            } else {
                alert('Invalid credentials!');
            }
        });

        function logout() {
            currentUser = null;
            document.getElementById('studentDashboard').classList.remove('active');
            document.getElementById('teacherDashboard').classList.remove('active');
            document.getElementById('adminDashboard').classList.remove('active');
            document.getElementById('loginScreen').style.display = 'flex';
            document.getElementById('loginForm').reset();
        }

        // Tab Navigation
        function showTab(tabName) {
            const sections = document.querySelectorAll('#studentDashboard .content-section');
            sections.forEach(section => section.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');

            const tabs = document.querySelectorAll('#studentDashboard .tab-btn');
            tabs.forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
        }

        function showTeacherTab(tabName) {
            const sections = document.querySelectorAll('#teacherDashboard .content-section');
            sections.forEach(section => section.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');

            const tabs = document.querySelectorAll('#teacherDashboard .tab-btn');
            tabs.forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
        }

        function showAdminTab(tabName) {
            const sections = document.querySelectorAll('#adminDashboard .content-section');
            sections.forEach(section => section.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');

            const tabs = document.querySelectorAll('#adminDashboard .tab-btn');
            tabs.forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
        }

        // User Management
        function registerUser() {
            const userData = {
                userType: document.getElementById('adminRegUserType').value,
                firstName: document.getElementById('adminRegFirstName').value,
                lastName: document.getElementById('adminRegLastName').value,
                email: document.getElementById('adminRegEmail').value,
                phone: document.getElementById('adminRegPhone').value,
                id: document.getElementById('adminRegID').value,
                department: document.getElementById('adminRegDepartment').value,
                username: document.getElementById('adminRegUsername').value,
                password: document.getElementById('adminRegPassword').value,
                address: document.getElementById('adminRegAddress').value
            };

            if (!userData.firstName || !userData.lastName || !userData.email || !userData.id || !userData.username || !userData.password) {
                alert('Please fill all required fields!');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users') || '[]');
            
            if (users.find(u => u.username === userData.username)) {
                alert('Username already exists!');
                return;
            }
            
            if (users.find(u => u.id === userData.id)) {
                alert('ID already exists!');
                return;
            }

            users.push(userData);
            localStorage.setItem('users', JSON.stringify(users));
            
            alert('‚úÖ User registered successfully!');
            
            // Clear form
            document.getElementById('adminRegFirstName').value = '';
            document.getElementById('adminRegLastName').value = '';
            document.getElementById('adminRegEmail').value = '';
            document.getElementById('adminRegPhone').value = '';
            document.getElementById('adminRegID').value = '';
            document.getElementById('adminRegDepartment').value = '';
            document.getElementById('adminRegUsername').value = '';
            document.getElementById('adminRegPassword').value = '';
            document.getElementById('adminRegAddress').value = '';
            
            loadRegisteredUsers();
        }

        function loadRegisteredUsers() {
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const tbody = document.getElementById('registeredUsersTable');
            
            if (users.length === 0) {
                tbody.innerHTML = '<tr><td colspan="7" style="text-align: center; padding: 40px; color: #999;">No registered users yet</td></tr>';
                return;
            }
            
            tbody.innerHTML = users.map(user => `
                <tr>
                    <td>${user.id}</td>
                    <td>${user.firstName} ${user.lastName}</td>
                    <td><span class="status-badge ${user.userType === 'student' ? 'status-unpaid' : user.userType === 'teacher' ? 'status-pending' : 'status-paid'}">${user.userType.charAt(0).toUpperCase() + user.userType.slice(1)}</span></td>
                    <td>${user.email}</td>
                    <td>${user.phone || '-'}</td>
                    <td>${user.department || '-'}</td>
                    <td>
                        <button class="btn-download" onclick="editUser('${user.id}')" style="margin-right: 5px;">Edit</button>
                        <button class="btn-logout" onclick="deleteUser('${user.id}')" style="padding: 8px 15px; font-size: 14px;">Delete</button>
                    </td>
                </tr>
            `).join('');
        }

        function editUser(userId) {
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const user = users.find(u => u.id === userId);
            
            if (!user) return;
            
            document.getElementById('editUserType').value = user.userType;
            document.getElementById('editFirstName').value = user.firstName;
            document.getElementById('editLastName').value = user.lastName;
            document.getElementById('editEmail').value = user.email;
            document.getElementById('editPhone').value = user.phone || '';
            document.getElementById('editID').value = user.id;
            document.getElementById('editDepartment').value = user.department || '';
            document.getElementById('editUsername').value = user.username;
            document.getElementById('editAddress').value = user.address || '';
            document.getElementById('editPassword').value = '';
            
            document.getElementById('editUserModal').dataset.userId = userId;
            document.getElementById('editUserModal').classList.add('active');
        }

        function closeEditModal() {
            document.getElementById('editUserModal').classList.remove('active');
        }

        function saveUserEdit() {
            const userId = document.getElementById('editUserModal').dataset.userId;
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const userIndex = users.findIndex(u => u.id === userId);
            
            if (userIndex === -1) return;
            
            const updatedUser = {
                ...users[userIndex],
                userType: document.getElementById('editUserType').value,
                firstName: document.getElementById('editFirstName').value,
                lastName: document.getElementById('editLastName').value,
                email: document.getElementById('editEmail').value,
                phone: document.getElementById('editPhone').value,
                department: document.getElementById('editDepartment').value,
                username: document.getElementById('editUsername').value,
                address: document.getElementById('editAddress').value
            };
            
            const newPassword = document.getElementById('editPassword').value;
            if (newPassword) {
                updatedUser.password = newPassword;
            }
            
            users[userIndex] = updatedUser;
            localStorage.setItem('users', JSON.stringify(users));
            
            alert('‚úÖ User updated successfully!');
            closeEditModal();
            loadRegisteredUsers();
        }

        function deleteUser(userId) {
            if (!confirm('Delete this user?')) return;
            
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const filteredUsers = users.filter(u => u.id !== userId);
            localStorage.setItem('users', JSON.stringify(filteredUsers));
            
            alert('‚úÖ User deleted!');
            loadRegisteredUsers();
        }

        // Results Management
        function addResult() {
            const result = {
                id: Date.now(),
                studentId: document.getElementById('resultStudentId').value,
                examName: document.getElementById('resultExamName').value,
                subject: document.getElementById('resultSubject').value,
                marks: document.getElementById('resultMarks').value,
                grade: document.getElementById('resultGrade').value,
                date: document.getElementById('resultDate').value
            };

            if (!result.studentId || !result.examName || !result.subject || !result.marks || !result.grade || !result.date) {
                alert('Please fill all fields!');
                return;
            }

            const results = JSON.parse(localStorage.getItem('results') || '[]');
            results.push(result);
            localStorage.setItem('results', JSON.stringify(results));
            
            alert('‚úÖ Result added!');
            
            document.getElementById('resultStudentId').value = '';
            document.getElementById('resultExamName').value = '';
            document.getElementById('resultSubject').value = '';
            document.getElementById('resultMarks').value = '';
            document.getElementById('resultGrade').value = '';
            document.getElementById('resultDate').value = '';
            
            loadAdminResults();
        }

        function loadAdminResults() {
            const results = JSON.parse(localStorage.getItem('results') || '[]');
            const tbody = document.getElementById('adminResultsTable');
            
            if (results.length === 0) {
                tbody.innerHTML = '<tr><td colspan="7" style="text-align: center; padding: 40px; color: #999;">No results added yet</td></tr>';
                return;
            }
            
            tbody.innerHTML = results.map(r => `
                <tr>
                    <td>${r.studentId}</td>
                    <td>${r.examName}</td>
                    <td>${r.subject}</td>
                    <td>${r.marks}</td>
                    <td>${r.grade}</td>
                    <td>${r.date}</td>
                    <td><button class="btn-logout" onclick="deleteResult(${r.id})" style="padding: 8px 15px; font-size: 14px;">Delete</button></td>
                </tr>
            `).join('');
        }

        function deleteResult(id) {
            if (!confirm('Delete this result?')) return;
            
            const results = JSON.parse(localStorage.getItem('results') || '[]');
            const filtered = results.filter(r => r.id !== id);
            localStorage.setItem('results', JSON.stringify(filtered));
            
            alert('‚úÖ Result deleted!');
            loadAdminResults();
        }

        // Attendance Management
        function addAttendance() {
            const attendance = {
                id: Date.now(),
                studentId: document.getElementById('attendanceStudentId').value,
                subject: document.getElementById('attendanceSubject').value,
                date: document.getElementById('attendanceDate').value,
                time: document.getElementById('attendanceTime').value,
                status: document.getElementById('attendanceStatus').value
            };

            if (!attendance.studentId || !attendance.subject || !attendance.date || !attendance.time) {
                alert('Please fill all fields!');
                return;
            }

            const attendanceRecords = JSON.parse(localStorage.getItem('attendance') || '[]');
            attendanceRecords.push(attendance);
            localStorage.setItem('attendance', JSON.stringify(attendanceRecords));
            
            alert('‚úÖ Attendance marked!');
            
            document.getElementById('attendanceStudentId').value = '';
            document.getElementById('attendanceSubject').value = '';
            document.getElementById('attendanceDate').value = '';
            document.getElementById('attendanceTime').value = '';
            
            loadAdminAttendance();
        }

        function loadAdminAttendance() {
            const attendance = JSON.parse(localStorage.getItem('attendance') || '[]');
            const tbody = document.getElementById('adminAttendanceTable');
            
            if (attendance.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" style="text-align: center; padding: 40px; color: #999;">No attendance records yet</td></tr>';
                return;
            }
            
            tbody.innerHTML = attendance.map(a => `
                <tr>
                    <td>${a.studentId}</td>
                    <td>${a.date}</td>
                    <td>${a.subject}</td>
                    <td>${a.time}</td>
                    <td><span class="status-badge ${a.status === 'Present' ? 'status-present' : 'status-absent'}">${a.status}</span></td>
                    <td><button class="btn-logout" onclick="deleteAttendance(${a.id})" style="padding: 8px 15px; font-size: 14px;">Delete</button></td>
                </tr>
            `).join('');
        }

        function deleteAttendance(id) {
            if (!confirm('Delete this attendance record?')) return;
            
            const attendance = JSON.parse(localStorage.getItem('attendance') || '[]');
            const filtered = attendance.filter(a => a.id !== id);
            localStorage.setItem('attendance', JSON.stringify(filtered));
            
            alert('‚úÖ Attendance deleted!');
            loadAdminAttendance();
        }

        // Payment Management
        function addPayment() {
            const payment = {
                id: Date.now(),
                studentId: document.getElementById('paymentStudentId').value,
                date: document.getElementById('paymentDate').value,
                description: document.getElementById('paymentDescription').value,
                amount: document.getElementById('paymentAmount').value,
                status: document.getElementById('paymentStatus').value
            };

            if (!payment.studentId || !payment.date || !payment.description || !payment.amount) {
                alert('Please fill all fields!');
                return;
            }

            const payments = JSON.parse(localStorage.getItem('payments') || '[]');
            payments.push(payment);
            localStorage.setItem('payments', JSON.stringify(payments));
            
            alert('‚úÖ Payment recorded!');
            
            document.getElementById('paymentStudentId').value = '';
            document.getElementById('paymentDate').value = '';
            document.getElementById('paymentDescription').value = '';
            document.getElementById('paymentAmount').value = '';
            
            loadAdminPayments();
        }

        function loadAdminPayments() {
            const payments = JSON.parse(localStorage.getItem('payments') || '[]');
            const tbody = document.getElementById('adminPaymentsTable');
            
            if (payments.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" style="text-align: center; padding: 40px; color: #999;">No payment records yet</td></tr>';
                return;
            }
            
            tbody.innerHTML = payments.map(p => `
                <tr>
                    <td>${p.studentId}</td>
                    <td>${p.date}</td>
                    <td>${p.description}</td>
                    <td>‡ß≥${p.amount}</td>
                    <td><span class="status-badge status-${p.status.toLowerCase()}">${p.status}</span></td>
                    <td><button class="btn-logout" onclick="deletePayment(${p.id})" style="padding: 8px 15px; font-size: 14px;">Delete</button></td>
                </tr>
            `).join('');
        }

        function deletePayment(id) {
            if (!confirm('Delete this payment record?')) return;
            
            const payments = JSON.parse(localStorage.getItem('payments') || '[]');
            const filtered = payments.filter(p => p.id !== id);
            localStorage.setItem('payments', JSON.stringify(filtered));
            
            alert('‚úÖ Payment deleted!');
            loadAdminPayments();
        }

        // Exam Management
        function addExam() {
            const exam = {
                id: Date.now(),
                date: document.getElementById('examDate').value,
                subject: document.getElementById('examSubject').value,
                time: document.getElementById('examTime').value,
                duration: document.getElementById('examDuration').value,
                room: document.getElementById('examRoom').value
            };

            if (!exam.date || !exam.subject || !exam.time || !exam.duration || !exam.room) {
                alert('Please fill all fields!');
                return;
            }

            const exams = JSON.parse(localStorage.getItem('exams') || '[]');
            exams.push(exam);
            localStorage.setItem('exams', JSON.stringify(exams));
            
            alert('‚úÖ Exam added!');
            
            document.getElementById('examDate').value = '';
            document.getElementById('examSubject').value = '';
            document.getElementById('examTime').value = '';
            document.getElementById('examDuration').value = '';
            document.getElementById('examRoom').value = '';
            
            loadAdminExams();
        }

        function loadAdminExams() {
            const exams = JSON.parse(localStorage.getItem('exams') || '[]');
            const tbody = document.getElementById('adminExamsTable');
            
            if (exams.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" style="text-align: center; padding: 40px; color: #999;">No exams scheduled yet</td></tr>';
                return;
            }
            
            tbody.innerHTML = exams.map(e => `
                <tr>
                    <td>${e.date}</td>
                    <td>${e.subject}</td>
                    <td>${e.time}</td>
                    <td>${e.room}</td>
                    <td>${e.duration}</td>
                    <td><button class="btn-logout" onclick="deleteExam(${e.id})" style="padding: 8px 15px; font-size: 14px;">Delete</button></td>
                </tr>
            `).join('');
        }

        function deleteExam(id) {
            if (!confirm('Delete this exam?')) return;
            
            const exams = JSON.parse(localStorage.getItem('exams') || '[]');
            const filtered = exams.filter(e => e.id !== id);
            localStorage.setItem('exams', JSON.stringify(filtered));
            
            alert('‚úÖ Exam deleted!');
            loadAdminExams();
        }

        // Routine Management
        function addRoutine() {
            const routine = {
                id: Date.now(),
                day: document.getElementById('routineDay').value,
                time: document.getElementById('routineTime').value,
                subject: document.getElementById('routineSubject').value,
                room: document.getElementById('routineRoom').value,
                teacher: document.getElementById('routineTeacher').value
            };

            if (!routine.day || !routine.time || !routine.subject || !routine.room || !routine.teacher) {
                alert('Please fill all fields!');
                return;
            }

            const routines = JSON.parse(localStorage.getItem('routine') || '[]');
            routines.push(routine);
            localStorage.setItem('routine', JSON.stringify(routines));
            
            alert('‚úÖ Class added to routine!');
            
            document.getElementById('routineTime').value = '';
            document.getElementById('routineSubject').value = '';
            document.getElementById('routineRoom').value = '';
            document.getElementById('routineTeacher').value = '';
            
            loadAdminRoutine();
        }

        function loadAdminRoutine() {
            const routine = JSON.parse(localStorage.getItem('routine') || '[]');
            const tbody = document.getElementById('adminRoutineTable');
            
            if (routine.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" style="text-align: center; padding: 40px; color: #999;">No classes scheduled yet</td></tr>';
                return;
            }
            
            tbody.innerHTML = routine.map(r => `
                <tr>
                    <td>${r.day}</td>
                    <td>${r.time}</td>
                    <td>${r.subject}</td>
                    <td>${r.room}</td>
                    <td>${r.teacher}</td>
                    <td><button class="btn-logout" onclick="deleteRoutine(${r.id})" style="padding: 8px 15px; font-size: 14px;">Delete</button></td>
                </tr>
            `).join('');
        }

        function deleteRoutine(id) {
            if (!confirm('Delete this class?')) return;
            
            const routine = JSON.parse(localStorage.getItem('routine') || '[]');
            const filtered = routine.filter(r => r.id !== id);
            localStorage.setItem('routine', JSON.stringify(filtered));
            
            alert('‚úÖ Class deleted!');
            loadAdminRoutine();
        }

        // Lecture Management
        function addLecture() {
            const lecture = {
                id: Date.now(),
                subject: document.getElementById('lectureSubject').value,
                topic: document.getElementById('lectureTopic').value,
                teacher: document.getElementById('lectureTeacher').value,
                date: document.getElementById('lectureDate').value
            };

            if (!lecture.subject || !lecture.topic || !lecture.teacher || !lecture.date) {
                alert('Please fill all fields!');
                return;
            }

            const lectures = JSON.parse(localStorage.getItem('lectures') || '[]');
            lectures.push(lecture);
            localStorage.setItem('lectures', JSON.stringify(lectures));
            
            alert('‚úÖ Lecture material added!');
            
            document.getElementById('lectureSubject').value = '';
            document.getElementById('lectureTopic').value = '';
            document.getElementById('lectureTeacher').value = '';
            document.getElementById('lectureDate').value = '';
            
            loadAdminLectures();
        }

        function loadAdminLectures() {
            const lectures = JSON.parse(localStorage.getItem('lectures') || '[]');
            const tbody = document.getElementById('adminLecturesTable');
            
            if (lectures.length === 0) {
                tbody.innerHTML = '<tr><td colspan="5" style="text-align: center; padding: 40px; color: #999;">No lecture materials yet</td></tr>';
                return;
            }
            
            tbody.innerHTML = lectures.map(l => `
                <tr>
                    <td>${l.subject}</td>
                    <td>${l.topic}</td>
                    <td>${l.teacher}</td>
                    <td>${l.date}</td>
                    <td><button class="btn-logout" onclick="deleteLecture(${l.id})" style="padding: 8px 15px; font-size: 14px;">Delete</button></td>
                </tr>
            `).join('');
        }

        function deleteLecture(id) {
            if (!confirm('Delete this lecture?')) return;
            
            const lectures = JSON.parse(localStorage.getItem('lectures') || '[]');
            const filtered = lectures.filter(l => l.id !== id);
            localStorage.setItem('lectures', JSON.stringify(filtered));
            
            alert('‚úÖ Lecture deleted!');
            loadAdminLectures();
        }

        // Load all admin data
        function loadAllAdminData() {
            loadRegisteredUsers();
            loadAdminResults();
            loadAdminAttendance();
            loadAdminPayments();
            loadAdminExams();
            loadAdminRoutine();
            loadAdminLectures();
        }

        // Load student-specific data
        function loadStudentData(studentId) {
            // Load Results
            const results = JSON.parse(localStorage.getItem('results') || '[]');
            const studentResults = results.filter(r => r.studentId === studentId);
            const resultsTable = document.getElementById('studentResultsTable');
            
            if (studentResults.length === 0) {
                resultsTable.innerHTML = '<tr><td colspan="5" style="text-align: center; padding: 40px; color: #999;">No results available yet</td></tr>';
            } else {
                resultsTable.innerHTML = studentResults.map(r => `
                    <tr>
                        <td>${r.examName}</td>
                        <td>${r.subject}</td>
                        <td>${r.marks}</td>
                        <td>${r.grade}</td>
                        <td>${r.date}</td>
                    </tr>
                `).join('');
            }

            // Load Attendance
            const attendance = JSON.parse(localStorage.getItem('attendance') || '[]');
            const studentAttendance = attendance.filter(a => a.studentId === studentId);
            const attendanceTable = document.getElementById('studentAttendanceTable');
            
            if (studentAttendance.length === 0) {
                attendanceTable.innerHTML = '<tr><td colspan="4" style="text-align: center; padding: 40px; color: #999;">No attendance records yet</td></tr>';
            } else {
                attendanceTable.innerHTML = studentAttendance.map(a => `
                    <tr>
                        <td>${a.date}</td>
                        <td>${a.subject}</td>
                        <td><span class="status-badge ${a.status === 'Present' ? 'status-present' : 'status-absent'}">${a.status}</span></td>
                        <td>${a.time}</td>
                    </tr>
                `).join('');
                
                // Calculate attendance rate
                const presentCount = studentAttendance.filter(a => a.status === 'Present').length;
                const rate = Math.round((presentCount / studentAttendance.length) * 100);
                document.getElementById('studentAttendanceRate').textContent = rate + '%';
            }

            // Load Payments
            const payments = JSON.parse(localStorage.getItem('payments') || '[]');
            const studentPayments = payments.filter(p => p.studentId === studentId);
            const paymentsTable = document.getElementById('studentPaymentsTable');
            
            if (studentPayments.length === 0) {
                paymentsTable.innerHTML = '<tr><td colspan="4" style="text-align: center; padding: 40px; color: #999;">No payment records yet</td></tr>';
            } else {
                paymentsTable.innerHTML = studentPayments.map(p => `
                    <tr>
                        <td>${p.date}</td>
                        <td>${p.description}</td>
                        <td>‡ß≥${p.amount}</td>
                        <td><span class="status-badge status-${p.status.toLowerCase()}">${p.status}</span></td>
                    </tr>
                `).join('');
                
                // Calculate pending payment
                const pending = studentPayments
                    .filter(p => p.status !== 'Paid')
                    .reduce((sum, p) => sum + parseInt(p.amount), 0);
                document.getElementById('studentPendingPayment').textContent = '‡ß≥' + pending;
            }

            // Load Exams
            const exams = JSON.parse(localStorage.getItem('exams') || '[]');
            const examsTable = document.getElementById('studentExamsTable');
            
            if (exams.length === 0) {
                examsTable.innerHTML = '<tr><td colspan="5" style="text-align: center; padding: 40px; color: #999;">No upcoming exams</td></tr>';
            } else {
                examsTable.innerHTML = exams.map(e => `
                    <tr>
                        <td>${e.date}</td>
                        <td>${e.subject}</td>
                        <td>${e.time}</td>
                        <td>${e.room}</td>
                        <td>${e.duration}</td>
                    </tr>
                `).join('');
                document.getElementById('studentUpcomingExams').textContent = exams.length;
            }

            // Load Routine
            const routine = JSON.parse(localStorage.getItem('routine') || '[]');
            const routineTable = document.getElementById('studentRoutineTable');
            
            if (routine.length === 0) {
                routineTable.innerHTML = '<tr><td colspan="5" style="text-align: center; padding: 40px; color: #999;">No class routine available</td></tr>';
            } else {
                routineTable.innerHTML = routine.map(r => `
                    <tr>
                        <td>${r.day}</td>
                        <td>${r.time}</td>
                        <td>${r.subject}</td>
                        <td>${r.room}</td>
                        <td>${r.teacher}</td>
                    </tr>
                `).join('');
            }

            // Load Lectures
            const lectures = JSON.parse(localStorage.getItem('lectures') || '[]');
            const lecturesTable = document.getElementById('studentLecturesTable');
            
            if (lectures.length === 0) {
                lecturesTable.innerHTML = '<tr><td colspan="5" style="text-align: center; padding: 40px; color: #999;">No lecture materials available</td></tr>';
            } else {
                lecturesTable.innerHTML = lectures.map(l => `
                    <tr>
                        <td>${l.subject}</td>
                        <td>${l.topic}</td>
                        <td>${l.teacher}</td>
                        <td>${l.date}</td>
                        <td><button class="btn-download" onclick="alert('Download feature coming soon!')">Download</button></td>
                    </tr>
                `).join('');
            }

            // Calculate GPA (simple average of grades)
            if (studentResults.length > 0) {
                const gradePoints = {
                    'A+': 4.0, 'A': 3.75, 'A-': 3.5,
                    'B+': 3.25, 'B': 3.0, 'B-': 2.75,
                    'C+': 2.5, 'C': 2.25, 'C-': 2.0,
                    'D': 1.0, 'F': 0.0
                };
                const gpa = studentResults.reduce((sum, r) => sum + (gradePoints[r.grade] || 0), 0) / studentResults.length;
                document.getElementById('studentGPA').textContent = gpa.toFixed(2);
            }
        }

        // Load teacher-specific data
        function loadTeacherData(teacherId) {
            // Load all data for teacher view
            const routine = JSON.parse(localStorage.getItem('routine') || '[]');
            const routineTable = document.getElementById('teacherRoutineTable');
            
            if (routine.length === 0) {
                routineTable.innerHTML = '<tr><td colspan="5" style="text-align: center; padding: 40px; color: #999;">No class routine available</td></tr>';
            } else {
                routineTable.innerHTML = routine.map(r => `
                    <tr>
                        <td>${r.day}</td>
                        <td>${r.time}</td>
                        <td>${r.subject}</td>
                        <td>${r.room}</td>
                        <td>All Students</td>
                    </tr>
                `).join('');
            }

            // Load all attendance
            const attendance = JSON.parse(localStorage.getItem('attendance') || '[]');
            const attendanceTable = document.getElementById('teacherAttendanceTable');
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            
            if (attendance.length === 0) {
                attendanceTable.innerHTML = '<tr><td colspan="5" style="text-align: center; padding: 40px; color: #999;">No attendance records available</td></tr>';
            } else {
                attendanceTable.innerHTML = attendance.map(a => {
                    const student = users.find(u => u.id === a.studentId);
                    const studentName = student ? `${student.firstName} ${student.lastName}` : 'Unknown';
                    return `
                        <tr>
                            <td>${a.date}</td>
                            <td>${a.studentId}</td>
                            <td>${studentName}</td>
                            <td>${a.subject}</td>
                            <td><span class="status-badge ${a.status === 'Present' ? 'status-present' : 'status-absent'}">${a.status}</span></td>
                        </tr>
                    `;
                }).join('');
            }

            // Load all results
            const results = JSON.parse(localStorage.getItem('results') || '[]');
            const resultsTable = document.getElementById('teacherResultsTable');
            
            if (results.length === 0) {
                resultsTable.innerHTML = '<tr><td colspan="6" style="text-align: center; padding: 40px; color: #999;">No results available</td></tr>';
            } else {
                resultsTable.innerHTML = results.map(r => {
                    const student = users.find(u => u.id === r.studentId);
                    const studentName = student ? `${student.firstName} ${student.lastName}` : 'Unknown';
                    return `
                        <tr>
                            <td>${r.studentId}</td>
                            <td>${studentName}</td>
                            <td>${r.examName}</td>
                            <td>${r.subject}</td>
                            <td>${r.marks}</td>
                            <td>${r.grade}</td>
                        </tr>
                    `;
                }).join('');
            }

            // Load lectures
            const lectures = JSON.parse(localStorage.getItem('lectures') || '[]');
            const materialsTable = document.getElementById('teacherMaterialsTable');
            
            if (lectures.length === 0) {
                materialsTable.innerHTML = '<tr><td colspan="4" style="text-align: center; padding: 40px; color: #999;">No materials uploaded yet</td></tr>';
            } else {
                materialsTable.innerHTML = lectures.map(l => `
                    <tr>
                        <td>${l.subject}</td>
                        <td>${l.topic}</td>
                        <td>${l.date}</td>
                        <td>All Students</td>
                    </tr>
                `).join('');
            }
        }
    </script>
</body>
</html>
